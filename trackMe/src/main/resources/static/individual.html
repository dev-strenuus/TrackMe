<!doctype html>
<html>
<title>TrackMe</title>

<script src="js/angular/angular.min.js"></script>
<script src="js/individual.js"></script>

<body ng-app="individual">

<div ng-controller="individualSignUpController" ng-show="sharedDataService.signUp">
    <h1>Sign up:</h1>
    <form ng-submit="submitSignUp()">

        <p>Fiscal code: <input type="text" ng-model="individual.fiscalCode" pattern=".{16}"
                               title="Field must be 16 characters long" required/>
        <p>Name: <input type="text" ng-model="individual.name" minlength="4" maxlength="50" title="Insert your name"
                        required></p>
        <p>Surname: <input type="text" ng-model="individual.surname" title="Insert your surname" required></p>
        <p>Password: <input type="password" ng-model="individual.password" minlength="6" title="Insert your password"
                            required></p>
        <!--
         <p>Birth date: <input type="date" ng-model="individual.birthDate" required></p>
         <p>Country: <input type="text" ng-model="individual.country" required></p>
         <p>City: <input type="text" ng-model="individual.city" required></p>
         <p>Street:<input type="text" ng-model="individual.street" required></p>
         <p>Number: <input type="text" ng-model="individual.number" required></p>
         <p>Zip code: <input type="number" ng-model="individual.zipCode" size="5" required></p>
         -->
        <p>I accept the agreement!<input type="checkbox" title="You must agree our terms to use our services" required>
        </p>
        <input type="submit" id="submitSignUp" value="Submit">
    </form>
</div>

<div ng-controller="individualLoginController" ng-show="sharedDataService.login">
    <h1>Login:</h1>
    <form ng-submit="submitLogin()">
        <p>Fiscal code: <input type="text" ng-model="credentials.username" pattern=".{16}"
                               title="Field must be 16 characters long" required></p>
        <p>Password: <input type="password" ng-model="credentials.password" title="Insert your password" required></p>
        <input type="submit" id="submitLogin" value="Login">
    </form>
    <div>
        <p>If you do not have an account, please sign up</p>
        <button ng-click="showSignUp()">Sign up</button>
    </div>
</div>

<div ng-controller="individualController" ng-show="sharedDataService.home">
    <h1>Choose one option:</h1>
    <div>
        <button ng-click="showNotifications()">Notifications</button>
    </div>
    <div>
        <button ng-click="showSettings()">Settings</button>
    </div>
    <div>
        <button ng-controller="individualLogoutController" ng-click="logout()">Logout</button>
    </div>
</div>

<div ng-controller="individualNotificationsController" ng-show="sharedDataService.notifications">
    <h1>All your new requests, you can accept or refuse them at any moment:</h1>

    <table>
        <tr>
            <th>Company VAT Number</th>
            <th>Company name</th>
            <!--
            <th>Actions</th>
            -->
        </tr>
        <tr ng-repeat="notification in notifications">
            <td>{{notification}}</td>
            <td>name</td>

            <!-- TODO: capire come passare la partita iva
            <td>
                <button ng-click="acceptRequest()">Accept</button>
                <button ng-click="refuseRequest()">Refuse</button>
            </td>
            -->
        </tr>
    </table>

    <div>
        <button ng-controller="individualLogoutController" ng-click="logout()">Logout</button>
    </div>
    <div>
        <button ng-click="backHome()">Back to the Home page</button>
    </div>
</div>

<div ng-controller="individualSettingsController" ng-show="sharedDataService.settings">
    <h1>Settings</h1>
    <h3>Personal data</h3>
    <p>Name: </p>
    <p>Surname: </p>
    <p>...</p>
    <h3>Change your password:</h3>
    <p>Old password: <input type="password" ng-model="settings.oldPassword" title="Insert your current password"
                            required></p>
    <p>New password: <input type="password" ng-model="settings.newPassword" title="Insert your new password"
                            minlength="6" required></p>
    <h3>Your accepted requests:</h3>
    <table>
        <tr>
            <th>Id</th>
            <th>Company VAT Number</th>
            <th>Company name</th>
        </tr>
        <tr ng-repeat="notification in notifications">
            <td>{{$index}}</td>
            <td>{{notification}}</td>
            <td>name</td>
        </tr>
    </table>
    <div>
        <button ng-controller="individualLogoutController" ng-click="logout()">Logout</button>
    </div>
    <div>
        <button ng-click="backHome()">Back to the Home page</button>
    </div>

</div>
</body>
</html>
